<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="OSS Insight RSS Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-WBZS43V"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-WBZS43V",{anonymize_ip:!0})</script>
<link rel="preload" href="https://api.ossinsight.io/q/events-total" as="fetch" crossorigin="anonymous">
<script src="https://www.google.com/recaptcha/api.js?render=6LcBQpkfAAAAAFmuSRkRlJxVtmqR34nNawFgKohC"></script><title data-react-helmet="true">Step 3: Get Insights with SQL | OSS Insight</title><meta data-react-helmet="true" property="og:image" content="https://ossinsight.io/img/screenshots/homepage.png"><meta data-react-helmet="true" name="twitter:image" content="https://ossinsight.io/img/screenshots/homepage.png"><meta data-react-helmet="true" property="og:url" content="https://ossinsight.io/workshop/mini-ossinsight/step-by-step/get-insights-with-sql"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-workshop-current"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="keywords" content="tidb, mysql, github events, github archive, github metrics, oss, compare oss, oss analysis, pingcap, insight tool, data visualization, rank, trend"><meta data-react-helmet="true" property="og:title" content="Step 3: Get Insights with SQL | OSS Insight"><meta data-react-helmet="true" name="description" content="Now, the data is ready, let&#x27;s try to analyze these data with SQL!"><meta data-react-helmet="true" property="og:description" content="Now, the data is ready, let&#x27;s try to analyze these data with SQL!"><link data-react-helmet="true" rel="icon" href="/img/favicon-1.png"><link data-react-helmet="true" rel="canonical" href="https://ossinsight.io/workshop/mini-ossinsight/step-by-step/get-insights-with-sql"><link data-react-helmet="true" rel="alternate" href="https://ossinsight.io/workshop/mini-ossinsight/step-by-step/get-insights-with-sql" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://ossinsight.io/workshop/mini-ossinsight/step-by-step/get-insights-with-sql" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.a119dc45.css">
<link rel="preload" href="/assets/js/runtime~main.dc3325e5.js" as="script">
<link rel="preload" href="/assets/js/main.13f5653a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><div class="announcementBar_axC9" style="background-color:#6F6290;color:#ffffff" role="banner"><div class="announcementBarPlaceholder_xYHE"></div><div class="announcementBarContent_6uhP">üí° <a target="_blank" href="/blog/why-we-choose-tidb-to-support-ossinsight/" style="font-weight:bold">How we built a powerful insight tool in a week ?</a></div><button type="button" class="clean-btn close announcementBarClose_A3A1" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="OSS Insight Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.png" alt="OSS Insight Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div></a><a class="navbar__item navbar__link" href="/collections/open-source-database">Collections</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link">Live</a><ul class="dropdown__menu"><li><a href="https://live.ossinsight.io" target="_blank" rel="noopener" class="dropdown__link">2D Version</a></li><li><a href="https://live.ossinsight.io/3d" target="_blank" rel="noopener" class="dropdown__link">3D Version - GitHub City</a></li></ul></div><a class="navbar__item navbar__link" href="/blog">Blog</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link">Workshop</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/workshop/overview">üóìÔ∏è Join Workshop!</a></li><li><a class="dropdown__link" href="/workshop/mini-ossinsight/introduction">‚îî‚îÄ mini OSS Insight üî•</a></li><li><a class="dropdown__link" href="/workshop/nft-insight">‚îî‚îÄ NFT Insight</a></li><li><a class="dropdown__link" href="/workshop/twitter-insight">‚îî‚îÄ Twitter Insight - not ready</a></li><li><a class="dropdown__link" href="/workshop/stackoverflow-insight">‚îî‚îÄ Stack Overflow Insight - not ready</a></li><li><a class="dropdown__link" href="/workshop/cryptocurrency-insight">‚îî‚îÄ Cryptocurrency Insight - not ready</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/api">API</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link">More</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/about">About OSS Insight</a></li><li><a href="https://en.pingcap.com/tidb-cloud?utm_source=ossinsight&amp;utm_medium=referral" target="_blank" rel="noopener" class="dropdown__link">About TiDB Cloud</a></li><li><a class="dropdown__link" href="/blog/why-we-choose-tidb-to-support-ossinsight">How do we implement OSS Insight?</a></li><li><a class="dropdown__link" href="/stats">Database Stats</a></li><li><a href="https://github.com/pingcap/ossinsight/issues" target="_blank" rel="noopener" class="dropdown__link">Report an Issue</a></li></ul></div><style data-emotion="css ls2ycb">.css-ls2ycb{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;min-width:50px;max-width:300px;margin-left:8px;-webkit-flex-shrink:10000;-ms-flex-negative:10000;flex-shrink:10000;}.css-ls2ycb>*{width:100%;max-width:300px;margin-left:unset;margin-right:unset;-webkit-flex:1;-ms-flex:1;flex:1;}</style><div class="MuiBox-root css-ls2ycb"><style data-emotion="css 137kusi">.css-137kusi{max-width:300px;-webkit-flex:1;-ms-flex:1;flex:1;}.css-137kusi.Mui-focused .MuiAutocomplete-clearIndicator{visibility:visible;}@media (pointer: fine){.css-137kusi:hover .MuiAutocomplete-clearIndicator{visibility:visible;}}.css-137kusi .MuiAutocomplete-tag{margin:2px;max-width:calc(100% - 4px);}.css-137kusi .MuiAutocomplete-inputRoot{-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.MuiAutocomplete-hasPopupIcon.css-137kusi .MuiAutocomplete-inputRoot,.MuiAutocomplete-hasClearIcon.css-137kusi .MuiAutocomplete-inputRoot{padding-right:30px;}.MuiAutocomplete-hasPopupIcon.MuiAutocomplete-hasClearIcon.css-137kusi .MuiAutocomplete-inputRoot{padding-right:56px;}.css-137kusi .MuiAutocomplete-inputRoot .MuiAutocomplete-input{width:0;min-width:30px;}.css-137kusi .MuiInput-root{padding-bottom:1px;}.css-137kusi .MuiInput-root .MuiInput-input{padding:4px 4px 4px 0px;}.css-137kusi .MuiInput-root.MuiInputBase-sizeSmall .MuiInput-input{padding:2px 4px 3px 0;}.css-137kusi .MuiOutlinedInput-root{padding:9px;}.MuiAutocomplete-hasPopupIcon.css-137kusi .MuiOutlinedInput-root,.MuiAutocomplete-hasClearIcon.css-137kusi .MuiOutlinedInput-root{padding-right:39px;}.MuiAutocomplete-hasPopupIcon.MuiAutocomplete-hasClearIcon.css-137kusi .MuiOutlinedInput-root{padding-right:65px;}.css-137kusi .MuiOutlinedInput-root .MuiAutocomplete-input{padding:7.5px 4px 7.5px 6px;}.css-137kusi .MuiOutlinedInput-root .MuiAutocomplete-endAdornment{right:9px;}.css-137kusi .MuiOutlinedInput-root.MuiInputBase-sizeSmall{padding:6px;}.css-137kusi .MuiOutlinedInput-root.MuiInputBase-sizeSmall .MuiAutocomplete-input{padding:2.5px 4px 2.5px 6px;}.css-137kusi .MuiFilledInput-root{padding-top:19px;padding-left:8px;}.MuiAutocomplete-hasPopupIcon.css-137kusi .MuiFilledInput-root,.MuiAutocomplete-hasClearIcon.css-137kusi .MuiFilledInput-root{padding-right:39px;}.MuiAutocomplete-hasPopupIcon.MuiAutocomplete-hasClearIcon.css-137kusi .MuiFilledInput-root{padding-right:65px;}.css-137kusi .MuiFilledInput-root .MuiFilledInput-input{padding:7px 4px;}.css-137kusi .MuiFilledInput-root .MuiAutocomplete-endAdornment{right:9px;}.css-137kusi .MuiFilledInput-root.MuiInputBase-sizeSmall{padding-bottom:1px;}.css-137kusi .MuiFilledInput-root.MuiInputBase-sizeSmall .MuiFilledInput-input{padding:2.5px 4px;}.css-137kusi .MuiInputBase-hiddenLabel{padding-top:8px;}.css-137kusi .MuiAutocomplete-input{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;text-overflow:ellipsis;opacity:1;}</style><div class="MuiAutocomplete-root MuiAutocomplete-hasPopupIcon css-137kusi"><style data-emotion="css 1lmitxq">.css-1lmitxq{background-color:#3c3c3c;border-radius:8px;}.css-1lmitxq .MuiAutocomplete-input{text-align:left;}.css-1lmitxq .MuiOutlinedInput-notchedOutline{border:none;}</style><style data-emotion="css 188y84w">.css-188y84w{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:relative;min-width:0;padding:0;margin:0;border:0;vertical-align:top;width:100%;background-color:#3c3c3c;border-radius:8px;}.css-188y84w .MuiAutocomplete-input{text-align:left;}.css-188y84w .MuiOutlinedInput-notchedOutline{border:none;}</style><div class="MuiFormControl-root MuiFormControl-fullWidth MuiTextField-root css-188y84w"><style data-emotion="css-global 1prfaxn">@-webkit-keyframes mui-auto-fill{from{display:block;}}@keyframes mui-auto-fill{from{display:block;}}@-webkit-keyframes mui-auto-fill-cancel{from{display:block;}}@keyframes mui-auto-fill-cancel{from{display:block;}}</style><style data-emotion="css skvyly">.css-skvyly{font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:1rem;line-height:1.4375em;letter-spacing:0.00938em;color:#fff;box-sizing:border-box;position:relative;cursor:text;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;background-color:#3c3c3c;position:relative;border-radius:4px;padding-left:14px;padding-right:14px;background-color:#3c3c3c;}.css-skvyly.Mui-disabled{color:rgba(255, 255, 255, 0.5);cursor:default;}.css-skvyly:hover .MuiOutlinedInput-notchedOutline{border-color:#fff;}@media (hover: none){.css-skvyly:hover .MuiOutlinedInput-notchedOutline{border-color:rgba(255, 255, 255, 0.23);}}.css-skvyly.Mui-focused .MuiOutlinedInput-notchedOutline{border-color:#FFE895;border-width:2px;}.css-skvyly.Mui-error .MuiOutlinedInput-notchedOutline{border-color:#f44336;}.css-skvyly.Mui-disabled .MuiOutlinedInput-notchedOutline{border-color:rgba(255, 255, 255, 0.3);}</style><div class="MuiOutlinedInput-root MuiInputBase-root MuiInputBase-colorPrimary MuiInputBase-fullWidth MuiInputBase-formControl MuiInputBase-sizeSmall MuiInputBase-adornedStart MuiInputBase-adornedEnd MuiAutocomplete-inputRoot css-skvyly"><style data-emotion="css 6xum9m">.css-6xum9m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:0.01em;max-height:2em;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;white-space:nowrap;color:#fff;margin-right:8px;}</style><div class="MuiInputAdornment-root MuiInputAdornment-positionStart MuiInputAdornment-outlined MuiInputAdornment-sizeSmall css-6xum9m"><span class="notranslate">‚Äã</span><style data-emotion="css vubbuv">.css-vubbuv{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;fill:currentColor;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-size:1.5rem;}</style><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="SearchIcon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path></svg></div><style data-emotion="css 11v4jx5">.css-11v4jx5{font:inherit;letter-spacing:inherit;color:currentColor;padding:4px 0 5px;border:0;box-sizing:content-box;background:none;height:1.4375em;margin:0;-webkit-tap-highlight-color:transparent;display:block;min-width:0;width:100%;-webkit-animation-name:mui-auto-fill-cancel;animation-name:mui-auto-fill-cancel;-webkit-animation-duration:10ms;animation-duration:10ms;padding-top:1px;padding:8.5px 14px;padding-left:0;padding-right:0;}.css-11v4jx5::-webkit-input-placeholder{color:currentColor;opacity:0.5;-webkit-transition:opacity 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:opacity 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;}.css-11v4jx5::-moz-placeholder{color:currentColor;opacity:0.5;-webkit-transition:opacity 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:opacity 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;}.css-11v4jx5:-ms-input-placeholder{color:currentColor;opacity:0.5;-webkit-transition:opacity 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:opacity 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;}.css-11v4jx5::-ms-input-placeholder{color:currentColor;opacity:0.5;-webkit-transition:opacity 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:opacity 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;}.css-11v4jx5:focus{outline:0;}.css-11v4jx5:invalid{box-shadow:none;}.css-11v4jx5::-webkit-search-decoration{-webkit-appearance:none;}label[data-shrink=false]+.MuiInputBase-formControl .css-11v4jx5::-webkit-input-placeholder{opacity:0!important;}label[data-shrink=false]+.MuiInputBase-formControl .css-11v4jx5::-moz-placeholder{opacity:0!important;}label[data-shrink=false]+.MuiInputBase-formControl .css-11v4jx5:-ms-input-placeholder{opacity:0!important;}label[data-shrink=false]+.MuiInputBase-formControl .css-11v4jx5::-ms-input-placeholder{opacity:0!important;}label[data-shrink=false]+.MuiInputBase-formControl .css-11v4jx5:focus::-webkit-input-placeholder{opacity:0.5;}label[data-shrink=false]+.MuiInputBase-formControl .css-11v4jx5:focus::-moz-placeholder{opacity:0.5;}label[data-shrink=false]+.MuiInputBase-formControl .css-11v4jx5:focus:-ms-input-placeholder{opacity:0.5;}label[data-shrink=false]+.MuiInputBase-formControl .css-11v4jx5:focus::-ms-input-placeholder{opacity:0.5;}.css-11v4jx5.Mui-disabled{opacity:1;-webkit-text-fill-color:rgba(255, 255, 255, 0.5);}.css-11v4jx5:-webkit-autofill{-webkit-animation-duration:5000s;animation-duration:5000s;-webkit-animation-name:mui-auto-fill;animation-name:mui-auto-fill;}.css-11v4jx5:-webkit-autofill{-webkit-box-shadow:0 0 0 100px #266798 inset;-webkit-text-fill-color:#fff;caret-color:#fff;border-radius:inherit;}</style><input aria-invalid="false" autocomplete="off" placeholder="Search a developer or repo" class="MuiOutlinedInput-input MuiInputBase-input MuiInputBase-inputSizeSmall MuiInputBase-inputAdornedStart MuiInputBase-inputAdornedEnd MuiAutocomplete-input MuiAutocomplete-inputFocused css-11v4jx5" aria-autocomplete="list" aria-expanded="false" autocapitalize="none" spellcheck="false" role="combobox"><style data-emotion="css 1ti6y9h">.css-1ti6y9h{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:0.01em;max-height:2em;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;white-space:nowrap;color:#fff;margin-left:8px;}</style><div class="MuiInputAdornment-root MuiInputAdornment-positionEnd MuiInputAdornment-outlined MuiInputAdornment-sizeSmall css-1ti6y9h"><style data-emotion="css jh6l60 animation-61bdi0">.css-jh6l60{display:inline-block;color:#FFE895;-webkit-animation:animation-61bdi0 1.4s linear infinite;animation:animation-61bdi0 1.4s linear infinite;margin-right:8px;}@-webkit-keyframes animation-61bdi0{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}@keyframes animation-61bdi0{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}</style><span class="MuiCircularProgress-root MuiCircularProgress-indeterminate MuiCircularProgress-colorPrimary css-jh6l60" style="width:16px;height:16px" role="progressbar"><style data-emotion="css 13o7eu2">.css-13o7eu2{display:block;}</style><svg class="MuiCircularProgress-svg css-13o7eu2" viewBox="22 22 44 44"><style data-emotion="css 14891ef animation-1p2h4ri">.css-14891ef{stroke:currentColor;stroke-dasharray:80px,200px;stroke-dashoffset:0;-webkit-animation:animation-1p2h4ri 1.4s ease-in-out infinite;animation:animation-1p2h4ri 1.4s ease-in-out infinite;}@-webkit-keyframes animation-1p2h4ri{0%{stroke-dasharray:1px,200px;stroke-dashoffset:0;}50%{stroke-dasharray:100px,200px;stroke-dashoffset:-15px;}100%{stroke-dasharray:100px,200px;stroke-dashoffset:-125px;}}@keyframes animation-1p2h4ri{0%{stroke-dasharray:1px,200px;stroke-dashoffset:0;}50%{stroke-dasharray:100px,200px;stroke-dashoffset:-15px;}100%{stroke-dasharray:100px,200px;stroke-dashoffset:-125px;}}</style><circle class="MuiCircularProgress-circle MuiCircularProgress-circleIndeterminate css-14891ef" cx="44" cy="44" r="20.2" fill="none" stroke-width="3.6"></circle></svg></span></div><style data-emotion="css 7z4qiw">.css-7z4qiw{border-color:rgba(255, 255, 255, 0.23);}</style><style data-emotion="css nqlg3w">.css-nqlg3w{text-align:left;position:absolute;bottom:0;right:0;top:-5px;left:0;margin:0;padding:0 8px;pointer-events:none;border-radius:inherit;border-style:solid;border-width:1px;overflow:hidden;min-width:0%;border-color:rgba(255, 255, 255, 0.23);}</style><fieldset aria-hidden="true" class="MuiOutlinedInput-notchedOutline css-nqlg3w"><style data-emotion="css hdw1oc">.css-hdw1oc{float:unset;overflow:hidden;padding:0;line-height:11px;-webkit-transition:width 150ms cubic-bezier(0.0, 0, 0.2, 1) 0ms;transition:width 150ms cubic-bezier(0.0, 0, 0.2, 1) 0ms;}</style><legend class="css-hdw1oc"><span class="notranslate">‚Äã</span></legend></fieldset></div></div></div></div></div><div class="navbar__items navbar__items--right"><style data-emotion="css u4p24i">.css-u4p24i{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-u4p24i"><div class="css-u4p24i"><style data-emotion="css j7qwjs">.css-j7qwjs{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><div class="css-j7qwjs"><style data-emotion="css yqikym">.css-yqikym{font-size:10px;color:#7d7d7d;line-height:1;}</style><span class="css-yqikym">Total</span><span class="css-yqikym">Events</span></div><style data-emotion="css jmylbo">.css-jmylbo{width:0.5px;max-width:0.5px;min-width:0.5px;height:20px;background-color:#555;margin-left:8px;margin-right:8px;}</style><span class="css-jmylbo"></span><style data-emotion="css 109zv6h">.css-109zv6h{font-size:10px;color:#7d7d7d;line-height:1;height:20px;font-size:18px;color:white;line-height:1.1;}</style><span class="css-109zv6h"><div class="ReactAwesomeAnimatedNumber" style="height:18px"><div class="AnimatedNumberItem" style="height:18px"><div class="AnimatedNumberItem__wrapper" style="transition-duration:200ms"><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">0</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">1</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">2</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">3</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">4</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">5</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">6</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">7</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">8</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">9</div></div></div><div class="AnimatedNumberItem" style="height:18px"><div class="AnimatedNumberItem__wrapper" style="transition-duration:200ms"><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">0</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">1</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">2</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">3</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">4</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">5</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">6</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">7</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">8</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">9</div></div></div><div class="AnimatedNumberItem" style="height:18px"><div class="AnimatedNumberItem__wrapper" style="transition-duration:200ms"><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">0</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">1</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">2</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">3</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">4</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">5</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">6</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">7</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">8</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">9</div></div></div><div class="ReactAwesomeAnimatedNumber__text" style="font-size:18px;height:18px">,</div><div class="AnimatedNumberItem" style="height:18px"><div class="AnimatedNumberItem__wrapper" style="transition-duration:200ms"><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">0</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">1</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">2</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">3</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">4</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">5</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">6</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">7</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">8</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">9</div></div></div><div class="AnimatedNumberItem" style="height:18px"><div class="AnimatedNumberItem__wrapper" style="transition-duration:200ms"><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">0</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">1</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">2</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">3</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">4</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">5</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">6</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">7</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">8</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">9</div></div></div><div class="AnimatedNumberItem" style="height:18px"><div class="AnimatedNumberItem__wrapper" style="transition-duration:200ms"><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">0</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">1</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">2</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">3</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">4</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">5</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">6</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">7</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">8</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">9</div></div></div><div class="ReactAwesomeAnimatedNumber__text" style="font-size:18px;height:18px">,</div><div class="AnimatedNumberItem" style="height:18px"><div class="AnimatedNumberItem__wrapper" style="transition-duration:200ms"><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">0</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">1</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">2</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">3</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">4</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">5</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">6</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">7</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">8</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">9</div></div></div><div class="AnimatedNumberItem" style="height:18px"><div class="AnimatedNumberItem__wrapper" style="transition-duration:200ms"><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">0</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">1</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">2</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">3</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">4</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">5</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">6</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">7</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">8</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">9</div></div></div><div class="AnimatedNumberItem" style="height:18px"><div class="AnimatedNumberItem__wrapper" style="transition-duration:200ms"><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">0</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">1</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">2</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">3</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">4</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">5</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">6</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">7</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">8</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">9</div></div></div><div class="ReactAwesomeAnimatedNumber__text" style="font-size:18px;height:18px">,</div><div class="AnimatedNumberItem" style="height:18px"><div class="AnimatedNumberItem__wrapper" style="transition-duration:200ms"><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">0</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">1</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">2</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">3</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">4</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">5</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">6</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">7</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">8</div><div class="AnimatedNumberItem__number" style="font-size:18px;height:18px">9</div></div></div></div></span></div><style data-emotion="css vosm07">.css-vosm07{width:100px;max-width:100px;min-width:100px;margin-left:8px;}</style><div class="MuiBox-root css-vosm07"><div></div></div></div><style data-emotion="css s9ggwg">.css-s9ggwg{z-index:1500;pointer-events:none;}.css-s9ggwg[data-popper-placement*="bottom"] .MuiTooltip-arrow{top:0;margin-top:-0.71em;}.css-s9ggwg[data-popper-placement*="bottom"] .MuiTooltip-arrow::before{transform-origin:0 100%;}.css-s9ggwg[data-popper-placement*="top"] .MuiTooltip-arrow{bottom:0;margin-bottom:-0.71em;}.css-s9ggwg[data-popper-placement*="top"] .MuiTooltip-arrow::before{transform-origin:100% 0;}.css-s9ggwg[data-popper-placement*="right"] .MuiTooltip-arrow{left:0;margin-left:-0.71em;height:1em;width:0.71em;}.css-s9ggwg[data-popper-placement*="right"] .MuiTooltip-arrow::before{transform-origin:100% 100%;}.css-s9ggwg[data-popper-placement*="left"] .MuiTooltip-arrow{right:0;margin-right:-0.71em;height:1em;width:0.71em;}.css-s9ggwg[data-popper-placement*="left"] .MuiTooltip-arrow::before{transform-origin:0 0;}</style><style data-emotion="css 1dkatbo">.css-1dkatbo{z-index:1500;pointer-events:none;}.css-1dkatbo[data-popper-placement*="bottom"] .MuiTooltip-arrow{top:0;margin-top:-0.71em;}.css-1dkatbo[data-popper-placement*="bottom"] .MuiTooltip-arrow::before{transform-origin:0 100%;}.css-1dkatbo[data-popper-placement*="top"] .MuiTooltip-arrow{bottom:0;margin-bottom:-0.71em;}.css-1dkatbo[data-popper-placement*="top"] .MuiTooltip-arrow::before{transform-origin:100% 0;}.css-1dkatbo[data-popper-placement*="right"] .MuiTooltip-arrow{left:0;margin-left:-0.71em;height:1em;width:0.71em;}.css-1dkatbo[data-popper-placement*="right"] .MuiTooltip-arrow::before{transform-origin:100% 100%;}.css-1dkatbo[data-popper-placement*="left"] .MuiTooltip-arrow{right:0;margin-right:-0.71em;height:1em;width:0.71em;}.css-1dkatbo[data-popper-placement*="left"] .MuiTooltip-arrow::before{transform-origin:0 0;}</style><a href="https://twitter.com/OSSInsight" target="_blank" rel="noopener" class="navbar__item navbar__link navbar-item-twitter" alt="Twitter Logo (Header)"></a><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_GMj9"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_k0Pq"><div class="sidebar_LIo8"><nav class="menu thin-scrollbar menu_oAhv menuWithAnnouncementBar_IVfW"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/workshop/overview">Workshop Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/workshop/mini-ossinsight/introduction">mini OSS Insight ‚úîÔ∏è </a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/workshop/mini-ossinsight/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" tabindex="0" href="/workshop/mini-ossinsight/step-by-step/find-data-source">Step by Step</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/workshop/mini-ossinsight/step-by-step/find-data-source">Step 1: Find Data Source</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/workshop/mini-ossinsight/step-by-step/load-data-to-tidb">Step 2: Load Data  to TiDB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/workshop/mini-ossinsight/step-by-step/get-insights-with-sql">Step 3: Get Insights with SQL</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/workshop/nft-insight">NFT Insight ‚úîÔ∏è </a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/workshop/twitter-insight">Twitter Insight</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/workshop/stackoverflow-insight">Stack Overflow Insight</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/workshop/cryptocurrency-insight">Cryptocurrency Insight</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_EBxv"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_AF9Q"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_Q970"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_MGa7"><div class="docItemContainer_PQH2"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_psec"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Step 3: Get Insights with SQL</h1></header><p>Now, the data is ready, let&#x27;s try to analyze these data with SQL!</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="1-get-insights-with-raw-sql">1. Get Insights with Raw SQL!<a class="hash-link" href="#1-get-insights-with-raw-sql" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="a-cant-wait">a. Can&#x27;t Wait!<a class="hash-link" href="#a-cant-wait" title="Direct link to heading">‚Äã</a></h3><h4 class="anchor anchorWithStickyNavbar_y2LR" id="i-example-1">i. Example 1<a class="hash-link" href="#i-example-1" title="Direct link to heading">‚Äã</a></h4><p>Look at <code>ti-chi-bot</code>&#x27;s details, it is a robot:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">SQL</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Explain SQL - TiDB Cloud</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Explain SQL - Local TiDB</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_EiTO language-sql theme-code-block"><div class="codeBlockContent_X2I6 sql"><pre tabindex="0" class="prism-code language-sql codeBlock_UxnK thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_W6UD"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">COUNT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">*</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> events</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> github_events</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">WHERE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    actor_login </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;ti-chi-bot&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_V-PD clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_EiTO theme-code-block"><div class="codeBlockContent_X2I6"><pre tabindex="0" class="prism-code language-undefined codeBlock_UxnK thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_W6UD"><span class="token-line" style="color:#F8F8F2"><span class="token plain">+--------------------------------+---------+-----------+----------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| id                             | estRows | task      | access object                                                              | operator info                                                                                                                                                    |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+--------------------------------+---------+-----------+----------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| Projection_5                   | 1.00    | root      |                                                                            | gharchive_dev.github_events.type, Column#36                                                                                                                      |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| ‚îî‚îÄHashAgg_24                   | 1.00    | root      |                                                                            | group by:gharchive_dev.github_events.type, funcs:count(Column#44)-&gt;Column#36, funcs:firstrow(gharchive_dev.github_events.type)-&gt;gharchive_dev.github_events.type |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|   ‚îî‚îÄIndexLookUp_25             | 1.00    | root      | partition:all                                                              |                                                                                                                                                                  |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|     ‚îú‚îÄIndexRangeScan_22(Build) | 7550.14 | cop[tikv] | table:github_events, index:index_github_events_on_actor_login(actor_login) | range:[&quot;ti-chi-bot&quot;,&quot;ti-chi-bot&quot;], keep order:false                                                                                                              |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|     ‚îî‚îÄHashAgg_7(Probe)         | 1.00    | cop[tikv] |                                                                            | group by:gharchive_dev.github_events.type, funcs:count(1)-&gt;Column#44                                                                                             |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|       ‚îî‚îÄTableRowIDScan_23      | 7550.14 | cop[tikv] | table:github_events                                                        | keep order:false                                                                                                                                                 |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+--------------------------------+---------+-----------+----------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_V-PD clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_EiTO theme-code-block"><div class="codeBlockContent_X2I6"><pre tabindex="0" class="prism-code language-undefined codeBlock_UxnK thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_W6UD"><span class="token-line" style="color:#F8F8F2"><span class="token plain">+------------------------------------+---------+-----------+----------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| id                                 | estRows | task      | access object                                                              | operator info                                                                                                                                                    |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+------------------------------------+---------+-----------+----------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| Projection_5                       | 1.00    | root      |                                                                            | gharchive_dev.github_events.type, Column#33                                                                                                                      |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| ‚îî‚îÄHashAgg_17                       | 1.00    | root      |                                                                            | group by:gharchive_dev.github_events.type, funcs:count(Column#37)-&gt;Column#33, funcs:firstrow(gharchive_dev.github_events.type)-&gt;gharchive_dev.github_events.type |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|   ‚îî‚îÄIndexLookUp_18                 | 1.00    | root      |                                                                            |                                                                                                                                                                  |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|     ‚îú‚îÄIndexRangeScan_15(Build)     | 8938.94 | cop[tikv] | table:github_events, index:index_github_events_on_actor_login(actor_login) | range:[&quot;ti-chi-bot&quot;,&quot;ti-chi-bot&quot;], keep order:false                                                                                                              |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|     ‚îî‚îÄHashAgg_7(Probe)             | 1.00    | cop[tikv] |                                                                            | group by:gharchive_dev.github_events.type, funcs:count(1)-&gt;Column#37                                                                                             |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|       ‚îî‚îÄTableRowIDScan_16          | 8938.94 | cop[tikv] | table:github_events                                                        | keep order:false                                                                                                                                                 |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+------------------------------------+---------+-----------+----------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_V-PD clean-btn">Copy</button></div></div></div></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Test</h5></div><div class="admonition-content"><ul><li><a href="https://github.com/ti-chi-bot" target="_blank" rel="noopener">ti-chi-bot</a></li></ul></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="ii-example-2">ii. Example 2<a class="hash-link" href="#ii-example-2" title="Direct link to heading">‚Äã</a></h4><p>In addition to using aggregation functions for simple statistics, sometimes we need to conduct more complex data analysis, such as calculating percentage points, moving average, cumulative total, etc.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Question</h5></div><div class="admonition-content"><p>If you need to analyze the star growth trend of the specified repository (Fox example: <code>pingcap/tidb</code>) according to the existing data, can you use one SQL to complete it.</p></div></div><p>At this time, if we only use aggregation functions, our data analysis SQL will become complex, or we need to complete it through additional program processing.</p><p>TiDB provides <a href="https://docs.pingcap.com/tidb/dev/dev-guide-use-common-table-expression" target="_blank" rel="noopener">common table expression</a> and <a href="https://docs.pingcap.com/tidb/dev/window-functions" target="_blank" rel="noopener">window function</a> features to help us greatly simplify SQL queries.</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">SQL</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Explain</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_EiTO language-sql theme-code-block"><div class="codeBlockContent_X2I6 sql"><pre tabindex="0" class="prism-code language-sql codeBlock_UxnK thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_W6UD"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  event_month</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> stars</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    event_month</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">COUNT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> event_month</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> stars</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ROW_NUMBER</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> event_month</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> row_num</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    github_events</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">WHERE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;WatchEvent&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token operator">AND</span><span class="token plain"> repo_id </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">41986369</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> event_month</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> sub</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">WHERE</span><span class="token plain"> row_num </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_V-PD clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_EiTO theme-code-block"><div class="codeBlockContent_X2I6"><pre tabindex="0" class="prism-code language-undefined codeBlock_UxnK thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_W6UD"><span class="token-line" style="color:#F8F8F2"><span class="token plain">+-----------------------------------+----------+-----------+--------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| id                                | estRows  | task      | access object                                                                                          | operator info                                                                                                                |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+-----------------------------------+----------+-----------+--------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| Projection_13                     | 22324.11 | root      |                                                                                                        | gharchive_dev.github_events.event_month, Column#39                                                                           |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| ‚îî‚îÄSelection_40                    | 22324.11 | root      |                                                                                                        | eq(Column#38, 1)                                                                                                             |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|   ‚îî‚îÄWindow_42                     | 27905.14 | root      |                                                                                                        | count(1)-&gt;Column#39 over(order by gharchive_dev.github_events.event_month range between unbounded preceding and current row) |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|     ‚îî‚îÄWindow_19                   | 27905.14 | root      |                                                                                                        | row_number()-&gt;Column#38 over(partition by gharchive_dev.github_events.event_month rows between current row and current row)  |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|       ‚îî‚îÄSort_30                   | 28140.28 | root      |                                                                                                        | gharchive_dev.github_events.event_month                                                                                      |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|         ‚îî‚îÄIndexReader_27          | 28140.28 | root      | partition:watch_event                                                                                  | index:IndexRangeScan_26                                                                                                      |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|           ‚îî‚îÄIndexRangeScan_26     | 28140.28 | cop[tikv] | table:github_events, index:index_github_events_on_repo_id_type_event_month(repo_id, type, event_month) | range:[41986369 &quot;WatchEvent&quot;,41986369 &quot;WatchEvent&quot;], keep order:false                                                        |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+-----------------------------------+----------+-----------+--------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------+</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_V-PD clean-btn">Copy</button></div></div></div></div></div><p>Reading more:</p><ul><li><a href="https://dev.mysql.com/doc/refman/8.0/en/window-functions-usage.html" target="_blank" rel="noopener">Window Function Concepts and Syntax</a></li><li><a href="https://popsql.com/learn-sql/mysql/how-to-calculate-cumulative-sum-running-total-in-mysql" target="_blank" rel="noopener">How to Calculate Cumulative Sum-Running Total in MySQL</a></li></ul><h4 class="anchor anchorWithStickyNavbar_y2LR" id="iii-example-3">iii. Example 3<a class="hash-link" href="#iii-example-3" title="Direct link to heading">‚Äã</a></h4><p>The below SQL is picked from <a href="/blog/say-thanks-to-github-robots#history-trends">blog - Love, Code, and Robot</a>, it explains how robots grow on GitHub:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">SQL</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Explain SQL - TiDB Cloud</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Explain SQL - Local TiDB</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_EiTO language-sql theme-code-block"><div class="codeBlockContent_X2I6 sql"><pre tabindex="0" class="prism-code language-sql codeBlock_UxnK thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_W6UD"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">WITH</span><span class="token plain"> bots_with_first_seen </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        actor_login</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">MIN</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">event_year</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> first_seen_at</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> github_events ge</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">WHERE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        actor_login </span><span class="token operator">REGEXP</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;^(bot-.+|.+bot|.+\\[bot\\]|.+-bot-.+|robot-.+|.+-ci-.+|.+-ci|.+-testing|.+clabot.+|.+-gerrit|k8s-.+|.+-machine|.+-automation|github-.+|.+-github|.+-service|.+-builds|codecov-.+|.+teamcity.+|jenkins-.+|.+-jira-.+)$&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> actor_login</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> first_seen_at</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  acc </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token function" style="color:rgb(80, 250, 123)">COUNT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">actor_login</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> first_seen_at</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> cnt</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        first_seen_at </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> event_year</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        bots_with_first_seen </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> bwfs</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> event_year</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"> ANY_VALUE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">cnt</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> bots_total</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> event_year</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> acc</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> event_year</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> event_year</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_V-PD clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_EiTO theme-code-block"><div class="codeBlockContent_X2I6"><pre tabindex="0" class="prism-code language-undefined codeBlock_UxnK thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_W6UD"><span class="token-line" style="color:#F8F8F2"><span class="token plain">+------------------------------+-----------+-----------+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| id                           | estRows   | task      | access object | operator info                                                                                                                                                                                                                                                          |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+------------------------------+-----------+-----------+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| Sort_45                      | 39130.77  | root      |               | Column#44                                                                                                                                                                                                                                                              |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| ‚îî‚îÄProjection_47              | 39130.77  | root      |               | any_value(Column#43)-&gt;Column#45, Column#44                                                                                                                                                                                                                             |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|   ‚îî‚îÄHashAgg_48               | 39130.77  | root      |               | group by:Column#44, funcs:firstrow(Column#43)-&gt;Column#43, funcs:firstrow(Column#44)-&gt;Column#44                                                                                                                                                                         |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|     ‚îî‚îÄCTEFullScan_49         | 39130.77  | root      | CTE:acc       | data:CTE_1                                                                                                                                                                                                                                                             |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| CTE_1                        | 39130.77  | root      |               | Non-Recursive CTE                                                                                                                                                                                                                                                      |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| ‚îî‚îÄSelection_35(Seed Part)    | 39130.77  | root      |               | 1                                                                                                                                                                                                                                                                      |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|   ‚îî‚îÄProjection_36            | 48913.46  | root      |               | Column#40, Column#38                                                                                                                                                                                                                                                   |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|     ‚îî‚îÄWindow_42              | 48913.46  | root      |               | count(gharchive_dev.github_events.actor_login)-&gt;Column#40 over(order by Column#38 range between unbounded preceding and current row)                                                                                                                                   |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|       ‚îî‚îÄSort_44              | 48913.46  | root      |               | Column#38                                                                                                                                                                                                                                                              |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|         ‚îî‚îÄCTEFullScan_43     | 48913.46  | root      | CTE:bwfs      | data:CTE_0                                                                                                                                                                                                                                                             |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| CTE_0                        | 48913.46  | root      |               | Non-Recursive CTE                                                                                                                                                                                                                                                      |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| ‚îî‚îÄSort_18(Seed Part)         | 48913.46  | root      |               | Column#36                                                                                                                                                                                                                                                              |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|   ‚îî‚îÄProjection_20            | 48913.46  | root      |               | gharchive_dev.github_events.actor_login, Column#36                                                                                                                                                                                                                     |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|     ‚îî‚îÄHashAgg_21             | 48913.46  | root      |               | group by:gharchive_dev.github_events.actor_login, funcs:min(gharchive_dev.github_events.event_year)-&gt;Column#36, funcs:firstrow(gharchive_dev.github_events.actor_login)-&gt;gharchive_dev.github_events.actor_login                                                       |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|       ‚îî‚îÄSelection_28         | 191671.20 | root      |               | regexp(gharchive_dev.github_events.actor_login, &quot;^(bot-.+|.+bot|.+\[bot\]|.+-bot-.+|robot-.+|.+-ci-.+|.+-ci|.+-testing|.+clabot.+|.+-gerrit|k8s-.+|.+-machine|.+-automation|github-.+|.+-github|.+-service|.+-builds|codecov-.+|.+teamcity.+|jenkins-.+|.+-jira-.+)$&quot;) |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|         ‚îî‚îÄTableReader_27     | 239589.00 | root      | partition:all | data:TableFullScan_26                                                                                                                                                                                                                                                  |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|           ‚îî‚îÄTableFullScan_26 | 239589.00 | cop[tikv] | table:ge      | keep order:false                                                                                                                                                                                                                                                       |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+------------------------------+-----------+-----------+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_V-PD clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_EiTO language-sql theme-code-block"><div class="codeBlockContent_X2I6 sql"><pre tabindex="0" class="prism-code language-sql codeBlock_UxnK thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_W6UD"><span class="token-line" style="color:#F8F8F2"><span class="token operator">+</span><span class="token comment" style="color:rgb(98, 114, 164)">----------------------------------+------------+-----------+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain"> id                               </span><span class="token operator">|</span><span class="token plain"> estRows    </span><span class="token operator">|</span><span class="token plain"> task      </span><span class="token operator">|</span><span class="token plain"> access object </span><span class="token operator">|</span><span class="token plain"> operator info                                                                                                                                                                                                                                                          </span><span class="token operator">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">+</span><span class="token comment" style="color:rgb(98, 114, 164)">----------------------------------+------------+-----------+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain"> Sort_48                          </span><span class="token operator">|</span><span class="token plain"> </span><span class="token number">56047.89</span><span class="token plain">   </span><span class="token operator">|</span><span class="token plain"> root      </span><span class="token operator">|</span><span class="token plain">               </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">Column</span><span class="token comment" style="color:rgb(98, 114, 164)">#41                                                                                                                                                                                                                                                              |</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain"> ‚îî‚îÄProjection_50                  </span><span class="token operator">|</span><span class="token plain"> </span><span class="token number">56047.89</span><span class="token plain">   </span><span class="token operator">|</span><span class="token plain"> root      </span><span class="token operator">|</span><span class="token plain">               </span><span class="token operator">|</span><span class="token plain"> any_value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">Column</span><span class="token comment" style="color:rgb(98, 114, 164)">#40)-&gt;Column#42, Column#41                                                                                                                                                                                                                             |</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain">   ‚îî‚îÄHashAgg_51                   </span><span class="token operator">|</span><span class="token plain"> </span><span class="token number">56047.89</span><span class="token plain">   </span><span class="token operator">|</span><span class="token plain"> root      </span><span class="token operator">|</span><span class="token plain">               </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">group</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">by</span><span class="token plain">:</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">Column</span><span class="token comment" style="color:rgb(98, 114, 164)">#41, funcs:firstrow(Column#40)-&gt;Column#40, funcs:firstrow(Column#41)-&gt;Column#41                                                                                                                                                                         |</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain">     ‚îî‚îÄCTEFullScan_52             </span><span class="token operator">|</span><span class="token plain"> </span><span class="token number">56047.89</span><span class="token plain">   </span><span class="token operator">|</span><span class="token plain"> root      </span><span class="token operator">|</span><span class="token plain"> CTE:acc       </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">data</span><span class="token plain">:CTE_1                                                                                                                                                                                                                                                             </span><span class="token operator">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain"> CTE_1                            </span><span class="token operator">|</span><span class="token plain"> </span><span class="token number">56047.89</span><span class="token plain">   </span><span class="token operator">|</span><span class="token plain"> root      </span><span class="token operator">|</span><span class="token plain">               </span><span class="token operator">|</span><span class="token plain"> Non</span><span class="token operator">-</span><span class="token plain">Recursive CTE                                                                                                                                                                                                                                                      </span><span class="token operator">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain"> ‚îî‚îÄSelection_38</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Seed Part</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">        </span><span class="token operator">|</span><span class="token plain"> </span><span class="token number">56047.89</span><span class="token plain">   </span><span class="token operator">|</span><span class="token plain"> root      </span><span class="token operator">|</span><span class="token plain">               </span><span class="token operator">|</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain">                                                                                                                                                                                                                                                                      </span><span class="token operator">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain">   ‚îî‚îÄProjection_39                </span><span class="token operator">|</span><span class="token plain"> </span><span class="token number">70059.86</span><span class="token plain">   </span><span class="token operator">|</span><span class="token plain"> root      </span><span class="token operator">|</span><span class="token plain">               </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">Column</span><span class="token comment" style="color:rgb(98, 114, 164)">#37, Column#35                                                                                                                                                                                                                                                   |</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain">     ‚îî‚îÄWindow_45                  </span><span class="token operator">|</span><span class="token plain"> </span><span class="token number">70059.86</span><span class="token plain">   </span><span class="token operator">|</span><span class="token plain"> root      </span><span class="token operator">|</span><span class="token plain">               </span><span class="token operator">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">gharchive_dev</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">github_events</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">actor_login</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">Column</span><span class="token comment" style="color:rgb(98, 114, 164)">#37 over(order by Column#35 range between unbounded preceding and current row)                                                                                                                                   |</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain">       ‚îî‚îÄSort_47                  </span><span class="token operator">|</span><span class="token plain"> </span><span class="token number">70059.86</span><span class="token plain">   </span><span class="token operator">|</span><span class="token plain"> root      </span><span class="token operator">|</span><span class="token plain">               </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">Column</span><span class="token comment" style="color:rgb(98, 114, 164)">#35                                                                                                                                                                                                                                                              |</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain">         ‚îî‚îÄCTEFullScan_46         </span><span class="token operator">|</span><span class="token plain"> </span><span class="token number">70059.86</span><span class="token plain">   </span><span class="token operator">|</span><span class="token plain"> root      </span><span class="token operator">|</span><span class="token plain"> CTE:bwfs      </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">data</span><span class="token plain">:CTE_0                                                                                                                                                                                                                                                             </span><span class="token operator">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain"> CTE_0                            </span><span class="token operator">|</span><span class="token plain"> </span><span class="token number">70059.86</span><span class="token plain">   </span><span class="token operator">|</span><span class="token plain"> root      </span><span class="token operator">|</span><span class="token plain">               </span><span class="token operator">|</span><span class="token plain"> Non</span><span class="token operator">-</span><span class="token plain">Recursive CTE                                                                                                                                                                                                                                                      </span><span class="token operator">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain"> ‚îî‚îÄSort_18</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Seed Part</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">             </span><span class="token operator">|</span><span class="token plain"> </span><span class="token number">70059.86</span><span class="token plain">   </span><span class="token operator">|</span><span class="token plain"> root      </span><span class="token operator">|</span><span class="token plain">               </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">Column</span><span class="token comment" style="color:rgb(98, 114, 164)">#33                                                                                                                                                                                                                                                              |</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain">   ‚îî‚îÄProjection_20                </span><span class="token operator">|</span><span class="token plain"> </span><span class="token number">70059.86</span><span class="token plain">   </span><span class="token operator">|</span><span class="token plain"> root      </span><span class="token operator">|</span><span class="token plain">               </span><span class="token operator">|</span><span class="token plain"> gharchive_dev</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">github_events</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">actor_login</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">Column</span><span class="token comment" style="color:rgb(98, 114, 164)">#33                                                                                                                                                                                                                     |</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain">     ‚îî‚îÄHashAgg_21                 </span><span class="token operator">|</span><span class="token plain"> </span><span class="token number">70059.86</span><span class="token plain">   </span><span class="token operator">|</span><span class="token plain"> root      </span><span class="token operator">|</span><span class="token plain">               </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">group</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">by</span><span class="token plain">:gharchive_dev</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">github_events</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">actor_login</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> funcs:</span><span class="token function" style="color:rgb(80, 250, 123)">min</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">gharchive_dev</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">github_events</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">event_year</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">Column</span><span class="token comment" style="color:rgb(98, 114, 164)">#33, funcs:firstrow(gharchive_dev.github_events.actor_login)-&gt;gharchive_dev.github_events.actor_login                                                       |</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain">       ‚îî‚îÄSelection_28             </span><span class="token operator">|</span><span class="token plain"> </span><span class="token number">824598.40</span><span class="token plain">  </span><span class="token operator">|</span><span class="token plain"> root      </span><span class="token operator">|</span><span class="token plain">               </span><span class="token operator">|</span><span class="token plain"> </span><span class="token operator">regexp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">gharchive_dev</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">github_events</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">actor_login</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;^(bot-.+|.+bot|.+\[bot\]|.+-bot-.+|robot-.+|.+-ci-.+|.+-ci|.+-testing|.+clabot.+|.+-gerrit|k8s-.+|.+-machine|.+-automation|github-.+|.+-github|.+-service|.+-builds|codecov-.+|.+teamcity.+|jenkins-.+|.+-jira-.+)$&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain">         ‚îî‚îÄTableReader_27         </span><span class="token operator">|</span><span class="token plain"> </span><span class="token number">1030748.00</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> root      </span><span class="token operator">|</span><span class="token plain">               </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">data</span><span class="token plain">:TableFullScan_26                                                                                                                                                                                                                                                  </span><span class="token operator">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain">           ‚îî‚îÄTableFullScan_26     </span><span class="token operator">|</span><span class="token plain"> </span><span class="token number">1030748.00</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> cop</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">tikv</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">table</span><span class="token plain">:ge      </span><span class="token operator">|</span><span class="token plain"> keep </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">order</span><span class="token plain">:</span><span class="token boolean">false</span><span class="token plain">                                                                                                                                                                                                                                                       </span><span class="token operator">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">+</span><span class="token comment" style="color:rgb(98, 114, 164)">----------------------------------+------------+-----------+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_V-PD clean-btn">Copy</button></div></div></div></div></div><p>results:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">Result - TiDB Cloud</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Result - Local TiDB</li></ul><div class="margin-vert--md"><div role="tabpanel"><p>Remember there are only 240k rows stored in your Developer Tier database.</p><div class="codeBlockContainer_EiTO theme-code-block"><div class="codeBlockContent_X2I6"><pre tabindex="0" class="prism-code language-undefined codeBlock_UxnK thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_W6UD"><span class="token-line" style="color:#F8F8F2"><span class="token plain">+------------+------------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| bots_total | event_year |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+------------+------------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|          3 |       2015 |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|         10 |       2016 |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|         14 |       2017 |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|         21 |       2018 |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|         40 |       2019 |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|         54 |       2020 |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|         73 |       2021 |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|         82 |       2022 |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+------------+------------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">8 rows in set (1.99 sec)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mysql&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_V-PD clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>There are millions of rows stored in your local TiDB running on laptop/servers. </p><div class="codeBlockContainer_EiTO theme-code-block"><div class="codeBlockContent_X2I6"><pre tabindex="0" class="prism-code language-undefined codeBlock_UxnK thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_W6UD"><span class="token-line" style="color:#F8F8F2"><span class="token plain">+------------+------------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| bots_total | event_year |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+------------+------------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|          4 |       2011 |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|          8 |       2012 |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|         22 |       2013 |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|         50 |       2014 |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|         71 |       2015 |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|        132 |       2016 |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|        172 |       2017 |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|        243 |       2018 |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|        342 |       2019 |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|        450 |       2020 |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|        561 |       2021 |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|        622 |       2022 |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+------------+------------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">12 rows in set (2.39 sec)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mysql&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_V-PD clean-btn">Copy</button></div></div></div></div></div><br><br><center><h3>&quot;It works, but could it be faster?&quot;, &quot;Of course!&quot;</h3></center><br><h3 class="anchor anchorWithStickyNavbar_y2LR" id="b--set-column-oriented-storage-replica">b. !!! Set Column-Oriented Storage Replica<a class="hash-link" href="#b--set-column-oriented-storage-replica" title="Direct link to heading">‚Äã</a></h3><p>This step is important enough that it adds column-oriented-storage ability to TiDB - We call it <a href="https://docs.pingcap.com/tidb/dev/tiflash-overview" target="_blank" rel="noopener">TiFlash</a>. The <code>tiup playground</code> installed 1 TiFlash node by default, what we need to do is just make data <code>STORED</code> in these replica node too.</p><p>i. It&#x27;s easy to set TiFlash replica, different from other software, TiDB uses SQL to take such changes into effect:</p><div class="codeBlockContainer_EiTO language-sql theme-code-block"><div class="codeBlockContent_X2I6 sql"><pre tabindex="0" class="prism-code language-sql codeBlock_UxnK thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_W6UD"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ALTER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">TABLE</span><span class="token plain"> gharchive_dev</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">github_events </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SET</span><span class="token plain"> TIFLASH REPLICA </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_V-PD clean-btn">Copy</button></div></div><p>ii. Setting a TiFlash replica will take you some time, so you can use the following SQL statements to check if the procedure is done or not.</p><div class="codeBlockContainer_EiTO language-sql theme-code-block"><div class="codeBlockContent_X2I6 sql"><pre tabindex="0" class="prism-code language-sql codeBlock_UxnK thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_W6UD"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> information_schema</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">tiflash_replica </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">WHERE</span><span class="token plain"> TABLE_SCHEMA </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;gharchive_dev&#x27;</span><span class="token plain"> </span><span class="token operator">and</span><span class="token plain"> TABLE_NAME </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;github_events&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_V-PD clean-btn">Copy</button></div></div><p>If the result you get is same as follow, that means the procedure is done.</p><div class="codeBlockContainer_EiTO language-sql theme-code-block"><div class="codeBlockContent_X2I6 sql"><pre tabindex="0" class="prism-code language-sql codeBlock_UxnK thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_W6UD"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mysql</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> information_schema</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">tiflash_replica </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">WHERE</span><span class="token plain"> TABLE_SCHEMA </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;gharchive_dev&#x27;</span><span class="token plain"> </span><span class="token operator">and</span><span class="token plain"> TABLE_NAME </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;github_events&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">+</span><span class="token comment" style="color:rgb(98, 114, 164)">---------------+---------------+----------+---------------+-----------------+-----------+----------+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain"> TABLE_SCHEMA  </span><span class="token operator">|</span><span class="token plain"> TABLE_NAME    </span><span class="token operator">|</span><span class="token plain"> TABLE_ID </span><span class="token operator">|</span><span class="token plain"> REPLICA_COUNT </span><span class="token operator">|</span><span class="token plain"> LOCATION_LABELS </span><span class="token operator">|</span><span class="token plain"> AVAILABLE </span><span class="token operator">|</span><span class="token plain"> PROGRESS </span><span class="token operator">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">+</span><span class="token comment" style="color:rgb(98, 114, 164)">---------------+---------------+----------+---------------+-----------------+-----------+----------+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain"> gharchive_dev </span><span class="token operator">|</span><span class="token plain"> github_events </span><span class="token operator">|</span><span class="token plain">       </span><span class="token number">68</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain">             </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain">                 </span><span class="token operator">|</span><span class="token plain">         </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain">        </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">+</span><span class="token comment" style="color:rgb(98, 114, 164)">---------------+---------------+----------+---------------+-----------------+-----------+----------+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">row</span><span class="token plain"> </span><span class="token operator">in</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">set</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0.27</span><span class="token plain"> sec</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mysql</span><span class="token operator">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_V-PD clean-btn">Copy</button></div></div><p>Now try to execute the former robot sql(start with: <code>WITH bots_with_first_seen</code>) again, result:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">SQL</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Explain - TiDB Cloud</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Explain - Local TiDB</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_EiTO language-sql theme-code-block"><div class="codeBlockContent_X2I6 sql"><pre tabindex="0" class="prism-code language-sql codeBlock_UxnK thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_W6UD"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">WITH</span><span class="token plain"> bots_with_first_seen </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        actor_login</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">MIN</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">event_year</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> first_seen_at</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> github_events ge</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">WHERE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        actor_login </span><span class="token operator">REGEXP</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;^(bot-.+|.+bot|.+\\[bot\\]|.+-bot-.+|robot-.+|.+-ci-.+|.+-ci|.+-testing|.+clabot.+|.+-gerrit|k8s-.+|.+-machine|.+-automation|github-.+|.+-github|.+-service|.+-builds|codecov-.+|.+teamcity.+|jenkins-.+|.+-jira-.+)$&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> actor_login</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> first_seen_at</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  acc </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token function" style="color:rgb(80, 250, 123)">COUNT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">actor_login</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> first_seen_at</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> cnt</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        first_seen_at </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> event_year</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        bots_with_first_seen </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> bwfs</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> event_year</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"> ANY_VALUE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">cnt</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> bots_total</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> event_year</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> acc</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> event_year</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> event_year</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_V-PD clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_EiTO theme-code-block"><div class="codeBlockContent_X2I6"><pre tabindex="0" class="prism-code language-undefined codeBlock_UxnK thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_W6UD"><span class="token-line" style="color:#F8F8F2"><span class="token plain">+----------------------------------------+-----------+--------------+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| id                                     | estRows   | task         | access object | operator info                                                                                                                                                                                                                                                          |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+----------------------------------------+-----------+--------------+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| Sort_71                                | 39130.77  | root         |               | Column#44                                                                                                                                                                                                                                                              |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| ‚îî‚îÄProjection_73                        | 39130.77  | root         |               | any_value(Column#43)-&gt;Column#45, Column#44                                                                                                                                                                                                                             |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|   ‚îî‚îÄHashAgg_74                         | 39130.77  | root         |               | group by:Column#44, funcs:firstrow(Column#43)-&gt;Column#43, funcs:firstrow(Column#44)-&gt;Column#44                                                                                                                                                                         |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|     ‚îî‚îÄCTEFullScan_75                   | 39130.77  | root         | CTE:acc       | data:CTE_1                                                                                                                                                                                                                                                             |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| CTE_1                                  | 39130.77  | root         |               | Non-Recursive CTE                                                                                                                                                                                                                                                      |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| ‚îî‚îÄSelection_61(Seed Part)              | 39130.77  | root         |               | 1                                                                                                                                                                                                                                                                      |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|   ‚îî‚îÄProjection_62                      | 48913.46  | root         |               | Column#40, Column#38                                                                                                                                                                                                                                                   |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|     ‚îî‚îÄWindow_68                        | 48913.46  | root         |               | count(gharchive_dev.github_events.actor_login)-&gt;Column#40 over(order by Column#38 range between unbounded preceding and current row)                                                                                                                                   |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|       ‚îî‚îÄSort_70                        | 48913.46  | root         |               | Column#38                                                                                                                                                                                                                                                              |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|         ‚îî‚îÄCTEFullScan_69               | 48913.46  | root         | CTE:bwfs      | data:CTE_0                                                                                                                                                                                                                                                             |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| CTE_0                                  | 48913.46  | root         |               | Non-Recursive CTE                                                                                                                                                                                                                                                      |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| ‚îî‚îÄSort_18(Seed Part)                   | 48913.46  | root         |               | Column#36                                                                                                                                                                                                                                                              |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|   ‚îî‚îÄProjection_20                      | 48913.46  | root         |               | gharchive_dev.github_events.actor_login, Column#36                                                                                                                                                                                                                     |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|     ‚îî‚îÄTableReader_54                   | 48913.46  | root         | partition:all | data:ExchangeSender_53                                                                                                                                                                                                                                                 |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|       ‚îî‚îÄExchangeSender_53              | 48913.46  | mpp[tiflash] |               | ExchangeType: PassThrough                                                                                                                                                                                                                                              |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|         ‚îî‚îÄProjection_49                | 48913.46  | mpp[tiflash] |               | Column#36, gharchive_dev.github_events.actor_login                                                                                                                                                                                                                     |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|           ‚îî‚îÄHashAgg_50                 | 48913.46  | mpp[tiflash] |               | group by:gharchive_dev.github_events.actor_login, funcs:min(Column#49)-&gt;Column#36, funcs:firstrow(gharchive_dev.github_events.actor_login)-&gt;gharchive_dev.github_events.actor_login                                                                                    |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|             ‚îî‚îÄExchangeReceiver_52      | 48913.46  | mpp[tiflash] |               |                                                                                                                                                                                                                                                                        |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|               ‚îî‚îÄExchangeSender_51      | 48913.46  | mpp[tiflash] |               | ExchangeType: HashPartition, Hash Cols: [name: gharchive_dev.github_events.actor_login, collate: utf8mb4_unicode_ci]                                                                                                                                                   |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|                 ‚îî‚îÄHashAgg_25           | 48913.46  | mpp[tiflash] |               | group by:gharchive_dev.github_events.actor_login, funcs:min(gharchive_dev.github_events.event_year)-&gt;Column#49                                                                                                                                                         |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|                   ‚îî‚îÄSelection_48       | 191671.20 | mpp[tiflash] |               | regexp(gharchive_dev.github_events.actor_login, &quot;^(bot-.+|.+bot|.+\[bot\]|.+-bot-.+|robot-.+|.+-ci-.+|.+-ci|.+-testing|.+clabot.+|.+-gerrit|k8s-.+|.+-machine|.+-automation|github-.+|.+-github|.+-service|.+-builds|codecov-.+|.+teamcity.+|jenkins-.+|.+-jira-.+)$&quot;) |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|                     ‚îî‚îÄTableFullScan_47 | 239589.00 | mpp[tiflash] | table:ge      | keep order:false, PartitionTableScan:true                                                                                                                                                                                                                              |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+----------------------------------------+-----------+--------------+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_V-PD clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_EiTO theme-code-block"><div class="codeBlockContent_X2I6"><pre tabindex="0" class="prism-code language-undefined codeBlock_UxnK thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_W6UD"><span class="token-line" style="color:#F8F8F2"><span class="token plain">+--------------------------------------------+------------+--------------+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| id                                         | estRows    | task         | access object | operator info                                                                                                                                                                                                                                                          |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+--------------------------------------------+------------+--------------+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| Sort_74                                    | 56949.11   | root         |               | Column#41                                                                                                                                                                                                                                                              |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| ‚îî‚îÄProjection_76                            | 56949.11   | root         |               | any_value(Column#40)-&gt;Column#42, Column#41                                                                                                                                                                                                                             |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|   ‚îî‚îÄHashAgg_77                             | 56949.11   | root         |               | group by:Column#41, funcs:firstrow(Column#40)-&gt;Column#40, funcs:firstrow(Column#41)-&gt;Column#41                                                                                                                                                                         |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|     ‚îî‚îÄCTEFullScan_78                       | 56949.11   | root         | CTE:acc       | data:CTE_1                                                                                                                                                                                                                                                             |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| CTE_1                                      | 56949.11   | root         |               | Non-Recursive CTE                                                                                                                                                                                                                                                      |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| ‚îî‚îÄSelection_64(Seed Part)                  | 56949.11   | root         |               | 1                                                                                                                                                                                                                                                                      |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|   ‚îî‚îÄProjection_65                          | 71186.39   | root         |               | Column#37, Column#35                                                                                                                                                                                                                                                   |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|     ‚îî‚îÄWindow_71                            | 71186.39   | root         |               | count(gharchive_dev.github_events.actor_login)-&gt;Column#37 over(order by Column#35 range between unbounded preceding and current row)                                                                                                                                   |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|       ‚îî‚îÄSort_73                            | 71186.39   | root         |               | Column#35                                                                                                                                                                                                                                                              |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|         ‚îî‚îÄCTEFullScan_72                   | 71186.39   | root         | CTE:bwfs      | data:CTE_0                                                                                                                                                                                                                                                             |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| CTE_0                                      | 71186.39   | root         |               | Non-Recursive CTE                                                                                                                                                                                                                                                      |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| ‚îî‚îÄSort_18(Seed Part)                       | 71186.39   | root         |               | Column#33                                                                                                                                                                                                                                                              |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|   ‚îî‚îÄProjection_20                          | 71186.39   | root         |               | gharchive_dev.github_events.actor_login, Column#33                                                                                                                                                                                                                     |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|     ‚îî‚îÄTableReader_54                       | 71186.39   | root         |               | data:ExchangeSender_53                                                                                                                                                                                                                                                 |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|       ‚îî‚îÄExchangeSender_53                  | 71186.39   | mpp[tiflash] |               | ExchangeType: PassThrough                                                                                                                                                                                                                                              |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|         ‚îî‚îÄProjection_49                    | 71186.39   | mpp[tiflash] |               | Column#33, gharchive_dev.github_events.actor_login                                                                                                                                                                                                                     |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|           ‚îî‚îÄHashAgg_50                     | 71186.39   | mpp[tiflash] |               | group by:gharchive_dev.github_events.actor_login, funcs:min(Column#46)-&gt;Column#33, funcs:firstrow(gharchive_dev.github_events.actor_login)-&gt;gharchive_dev.github_events.actor_login                                                                                    |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|             ‚îî‚îÄExchangeReceiver_52          | 71186.39   | mpp[tiflash] |               |                                                                                                                                                                                                                                                                        |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|               ‚îî‚îÄExchangeSender_51          | 71186.39   | mpp[tiflash] |               | ExchangeType: HashPartition, Hash Cols: [name: gharchive_dev.github_events.actor_login, collate: utf8mb4_unicode_ci]                                                                                                                                                   |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|                 ‚îî‚îÄHashAgg_25               | 71186.39   | mpp[tiflash] |               | group by:gharchive_dev.github_events.actor_login, funcs:min(gharchive_dev.github_events.event_year)-&gt;Column#46                                                                                                                                                         |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|                   ‚îî‚îÄSelection_48           | 837857.60  | mpp[tiflash] |               | regexp(gharchive_dev.github_events.actor_login, &quot;^(bot-.+|.+bot|.+\[bot\]|.+-bot-.+|robot-.+|.+-ci-.+|.+-ci|.+-testing|.+clabot.+|.+-gerrit|k8s-.+|.+-machine|.+-automation|github-.+|.+-github|.+-service|.+-builds|codecov-.+|.+teamcity.+|jenkins-.+|.+-jira-.+)$&quot;) |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|                     ‚îî‚îÄTableFullScan_47     | 1047322.00 | mpp[tiflash] | table:ge      | keep order:false                                                                                                                                                                                                                                                       |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+--------------------------------------------+------------+--------------+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_V-PD clean-btn">Copy</button></div></div></div></div></div><br><center><h3>It is SUPER faster!</h3></center><br><p>We won&#x27;t talk too much about how to get USEFUL insights from such a big data as we are also students in open source software field. All SQLs in this project can be found on page, just click the <code>SHOW SQL</code> button on top-right of each chart to get the corresponding SQL.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="2-well-done">2. Well done!<a class="hash-link" href="#2-well-done" title="Direct link to heading">‚Äã</a></h2><p>Visit <a href="http://localhost:30000" target="_blank" rel="noopener">http://localhost:30000</a> to check the mini OSS Insight site.</p><p>If you have any question, please contact <a href="mailto:ossinsight@pingcap.com" target="_blank" rel="noopener">ossinsight@pingcap.com</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/pingcap/ossinsight/tree/main/workshop/mini-ossinsight/step-by-step/get-insights-with-sql.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/workshop/mini-ossinsight/step-by-step/load-data-to-tidb"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Step 2: Load Data  to TiDB</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/workshop/nft-insight"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">NFT Insight ‚úîÔ∏è </div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_H-s0 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-get-insights-with-raw-sql" class="table-of-contents__link toc-highlight">1. Get Insights with Raw SQL!</a><ul><li><a href="#a-cant-wait" class="table-of-contents__link toc-highlight">a. Can&#39;t Wait!</a></li><li><a href="#b--set-column-oriented-storage-replica" class="table-of-contents__link toc-highlight">b. !!! Set Column-Oriented Storage Replica</a></li></ul></li><li><a href="#2-well-done" class="table-of-contents__link toc-highlight">2. Well done!</a></li></ul></div></div></div></div></main></div></div><div style="z-index:1"><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">OSS Insight</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/collections/open-source-database">Collections</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/workshop/overview">Workshop</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/api">API</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/why-we-choose-tidb-to-support-ossinsight">How do we implement OSS Insight?</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/about">About</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/faq">FAQ</a></li></ul></div><div class="col footer__col"><div class="footer__title">Sponsored By</div><ul class="footer__items"><li class="footer__item"><a href="https://en.pingcap.com/tidb-cloud?utm_source=ossinsight&amp;utm_medium=referral" target="_blank" rel="noopener" class="footer__link-item"><span>TiDB Cloud<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Built With</div><ul class="footer__items"><li class="footer__item"><a href="https://docs.github.com/en/rest" target="_blank" rel="noopener" class="footer__link-item"><span>GitHub REST API<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="http://www.gharchive.org/" target="_blank" rel="noopener" class="footer__link-item"><span>GH Archive<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://ghtorrent.org/" target="_blank" rel="noopener" class="footer__link-item"><span>GHTorrent<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener" class="footer__link-item"><span>Docusaurus<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://echarts.apache.org/" target="_blank" rel="noopener" class="footer__link-item"><span>Apache ECharts<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/facebook/react" target="_blank" rel="noopener" class="footer__link-item"><span>React<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Contacts</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/OSSInsight" target="_blank" rel="noopener" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="mailto:ossinsight@pingcap.com" target="_blank" rel="noopener" class="footer__link-item"><span>Email<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/pingcap/ossinsight" target="_blank" rel="noopener" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><br><b>Location</b><p style="color:grey">PingCAP<br>1250 Borregas Ave, Office 131<br>Sunnyvale, CA 94089<br>USA<br>‚òéÔ∏è  +1 650 382 9973</p></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://en.pingcap.com/tidb-cloud/?utm_source=ossinsight&amp;utm_medium=referral" target="_blank" rel="noopener" class="footerLogoLink_SRtH"><img src="/img/tidb-cloud-logo-o.png" alt="TiDB Cloud Logo" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo" width="200"><img src="/img/tidb-cloud-logo-o.png" alt="TiDB Cloud Logo" class="themedImage_TMUO themedImage--dark_uzRr footer__logo" width="200"></a></div><div class="footer__copyright">Copyright &copy; 2022 <a href="https://en.pingcap.com" target="_blank">PingCAP</a>. All Rights Reserved | <a href="https://en.pingcap.com/privacy-policy/" target="_blank">Privacy</a></div></div></div></footer></div></div>
<script src="/assets/js/runtime~main.dc3325e5.js"></script>
<script src="/assets/js/main.13f5653a.js"></script>
</body>
</html>